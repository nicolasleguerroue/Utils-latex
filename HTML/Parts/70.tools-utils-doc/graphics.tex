\chapter{Bibliothèque Graphic}

La bibliothèque \lib{Graphic} permet de générer des graphiques depuis diverses sources de données.

\section{Affichage d'un graphique 2D avec insertion des données depuis un fichier txt (csv)}

\begin{graphic}{0.8}{0.6}{0}{2.1}{-1.1}{1.1}{t(ms)}{vs}{Oscilloscope}
\addPointsFromCSV{red}{comma}{src_examples/input_1.txt}
\addLegend{voie A}
\end{graphic}

\loc{Body}
\begin{Latex}{Code pour l'affichage d'un graphique 2D avec insertion des données depuis un fichier txt (csv)}
\begin{graphic}{0.8}{0.6}{0}{2.1}{-1.1}{1.1}{t(ms)}{vs}{Oscilloscope}
  \addPointsFromCSV{red}{comma}{src_examples/input_1.txt}
  \addLegend{voie A}
\end{graphic}
\end{Latex}



\section{Affichage d'un graphique 2D avec insertion des données depuis une liste de points}

\begin{graphic}{0.8}{0.4}{0}{40}{-1}{6}{t(s)}{Tension (V)}{Signal numérique}
\addPoints{blue}{(0,0)(10,0)(10,5)(15,5)(15,0)(20,0)(20,5)(25,5)(25,0)(30,0)(30,5)(35,5)(35,0)(100,0)}
\addLegend{Tension (V)}
\end{graphic}

\loc{Body}
\begin{Latex}{Code pour l'affichage d'un graphique 2D avec insertion des données depuis une liste de points}
\begin{graphic}{0.8}{0.4}{0}{40}{-1}{6}{t(s)}{Tension (V)}{Signal numérique}
  \addPoints{blue}{(0,0)(10,0)(10,5)(15,5)(15,0)(20,0)(20,5)(25,5)(25,0)(30,0)(30,5)(35,5)(35,0)(100,0)}
  \addLegend{Tension (V)}
\end{graphic}
\end{Latex}


\section{Affichage d'un graphique 2D avec insertion des données depuis une équation}

La variable est $x$ est les fonction trigonométriques sont en degrés.\\

\setSamples{1000}
\setMarker{markerNone}
\setFillColor{darkBlue}
\begin{graphicFigure}{0.4}{0.4}{0}{3}{-1}{5}{t(s)}{Tension V}{Signal analogique}

  
  \addTrace{green}{-10}{10}{sin(360*x)}
  \addTrace{blue}{-10}{10}{2*sin(720*x)}
  \addLegend{sin(360*x)}
\end{graphicFigure}
\setDefaultFillColor
%\enableGrid

\loc{Body}
\begin{Latex}{Code pour l'affichage d'un graphique 2D avec insertion des données depuis une équation}
  \setSamples{1000}
  \setMarker{markerNone}
  \begin{graphicFigure}{0.4}{0.4}{0}{3}{-1}{5}{t(s)}{Tension V}{Signal analogique}
    \addTrace{green}{-10}{10}{sin(x)}
  \addLegend{Legende}
  \end{graphicFigure}
\end{Latex}

\newpage
\section{Affichage de deux graphiques}

  \begin{figure}[h!]  
    \centering 
      \begin{subfigure}[b]{0.4\linewidth}
        \begin{graphic}{0.8}{1}{0}{1.2}{-1}{5}{t(s)}{Tension V}{h}
          \addTrace{green}{-10}{10}{sin(x)/x}
          \addLegend{sin(t)}
          \end{graphic}%NO END  LINE HERE
        \caption{Origine} 
      \end{subfigure}
    \begin{subfigure}[b]{0.4\linewidth}
      \begin{graphic}{0.8}{1}{0}{4}{-0.3}{0.3}{t(s)}{Tension V}{g}
        \addPointsFromCSV{blue}{comma}{src_examples/jack01.txt}
        \addLegend{g(t)}
        \end{graphic}%NO END  LINE HERE
    \caption{Bruit}
    \end{subfigure}
    \caption{Les tensions de service}
    \end{figure}  


  
    \loc{Body}
    \begin{Latex}{Code pour l'affichage d'un graphique 2D avec insertion des données depuis plusieurs sources}

      \begin{figure}[h!]  
        \centering 
          \begin{subfigure}[b]{0.4\linewidth}
            \begin{graphic}{0.8}{1}{0}{1.2}{-1}{5}{t(s)}{Tension V}{h}
              \addTrace{green}{-10}{10}{sin(x)/x}
              \addLegend{sin(t)}
              \end{graphic}%NO END  LINE HERE
            \caption{Origine} 
          \end{subfigure}
        \begin{subfigure}[b]{0.4\linewidth}
          \begin{graphic}{0.8}{1}{0}{4}{-0.3}{0.3}{t(s)}{Tension V}{g}
            \addPointsFromCSV{blue}{comma}{src_examples/jack01.txt}
            \addLegend{g(t)}
            \end{graphic}%NO END  LINE HERE
        \caption{Bruit}
        \end{subfigure}
        \caption{Les tensions de service}
        \end{figure}  
    \end{Latex}

  

\section{Paramètres des graphiques}

\subsection{Affichage de la grille}
Il est possible d'afficher ou non la grille avec les directives suivantes : 

\loc{Body}
\begin{Latex}{Affichage de la grille}
\enableGrid
\disableGrid
\end{Latex}


\subsection{Résolution des tracés}
Il est possible de modifier le nombre de points affichés pour une courbe :\\

\loc{Body}
\begin{Latex}{Définition du nombre d'échantillons}
\setSamples{1000}
\end{Latex}

\subsection{Modification des marqueurs}

Il est possible de changer les marqueurs des points avec la directive suivante : 


\loc{Body}
\begin{Latex}{Changement des marqueurs}
\setMarker{\markerCircle}
\end{Latex}

Les marqueurs disponibles sont les suivants : \\

\loc{Body}
\begin{Latex}{Liste des marqueurs}
\markerNone
\markerCircle
\markerSquare
\markerTriangle
\markerDiamond
\markerStart
\end{Latex}

\subsection{Modification de la couleur de remplissage}

Il est possible de mettre une couleur de remplissage des graphiques :

\loc{Body}
\begin{Latex}{Modifications de la couleur de remplissage}
\setFillColor{red}
\end{Latex}

On peut restaurer la couleur par défaut avec la directive : \\

\loc{Body}
\begin{Latex}{Restauration de la couleur d'origine}
\setDefaultFillColor
\end{Latex}

\subsection{Modification de l'épaisseur des lignes}

Il est possible de changer l'épaisseur des lignes (en mm) avec la commande suivante :

\loc{Body}
\begin{Latex}{Modifications de l'épaisseur des lignes}
\setLineWidth{0.2}
\end{Latex}

\input{Utils/Graphics.info}