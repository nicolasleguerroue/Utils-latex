<html><head><style>.cent {  display: block;  margin-left: auto;  margin-right: auto;}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script><body style='margin-left:5%;margin-right:5%;margin-top:1%'><h4>Fichier générer depuis les sources Latex</h4><h5>Auteur : Nicolas Le Guerroué</h5><a href='index.html'><button class='btn btn-success' >Revenir au sommaire</button></a><hr><h1 class=''>Annexes</h1>
<h2 >Configuration de l'ESP12 sous Arduino</h2>
<figure id=''><div class='cent' style='text-align:center;'><img src='/aop/nodemcu.png' class='alignnone size-medium' style='max-width:80%;'><figcaption>Figure - ESP12 NodeMCU</figcaption></div></figure>
<h3>Installation des bibliothèques et cartes ESP8266</h3>
La carte ESP12 NodeMCU est prévue pour être programmée directement via l'<span title="Integrated Developpment Environnment : Environnment de Développement Intégré" style='color:blue;'>IDE</span> Arduino.

Cette carte fait partie de la grande famille des ESP8266.

<div class='alert alert-success' ><h4>\faviconInfo</h4>L'installation est strictement identique avec la version 1.X ou 2.X d'Arduino, que ce soit sous Windows, Linux ou MAC</div>
Pour installer les bibliothèques et cartes sur le logiciel Arduino, il faut réaliser les étapes suivantes : 

<ul>
    <li> Ouvrir les préférences du logiciel Arduino dans <span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>Fichiers - Préférences</span>
</li>
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/preference.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Préférences Arduino</figcaption></div></figure>
    <li> Dans le champ <b>URL de gestionnaire de cartes supplémentaires</b>, mettre le lien suivant : </li>
    <a class="alert-link">\url{http://arduino.esp8266.com/stable/package_esp8266com_index.json}
    

<div class='alert alert-warning' ><h4>\faviconWarning</h4>Veuillez vérifier l'URL après le copier-coller car les underscores ("tirets du 8") peuvent disparaître.</div>
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/url.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Lien pour les cartes ESP8266</figcaption></div></figure>
    

    Puis faire <span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>OK</span>

    <li> Fermer le logiciel Arduino
</li>
    <li> Lancer le logiciel Arduino
</li>
    <li> Allez dans <span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>Outils - Type de carte - Gestionnaire de carte</span> 
</li>
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/boardManager.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Gestionnaire des cartes ESP8266</figcaption></div></figure>
    

    et faire une recherche avec le mot clé <span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>esp8266</span>

<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/install.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Installation des bibliothèques ESP8266</figcaption></div></figure>
    Il ne vous reste plus qu'à cliquer sur <span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>Installer</span> et redémarrer le logiciel Arduino.

</ul>
<h3>Installation du driver CH340 sous Windows</h3>
La plupart des nouvelles cartes ESp12 (et Arduino) utilisent le module CH340 pour communiquer entre la carte et l'ordinateur.

Installons les pilotes. Tout d'abord, se rendre à l'adresse suivante pour télécharger le pilote :

<a class="alert-link">\url{https://www.arduined.eu/ch340-windows-10-driver-download/}
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/link.png' class='alignnone size-medium' style='max-width:60%;'><figcaption>Figure - téléchargement du driver CH340</figcaption></div></figure>
En cliquant sur <b>Driver CH340 for Windows 10</b>, un fichier compressé au format ZIP se télécharge. Il ne vous reste plus 
qu'à le décompresser <span title="Clic-droit sur le fichier et 'extraire ici'" style='color:grey;'><sup>[Note 17]</sup></span>.

Les fichiers suivants devraient apparaître dans le dossier : 

<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/dir.png' class='alignnone size-medium' style='max-width:80%;'><figcaption>Figure - La liste des fichiers pour le driver</figcaption></div></figure>
Il faut clicker sur le fichier <span class='badge badge-primary'>SETUP.exe</span> et ensuite, l'interface suivante apparaît : 
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/installCH340.png' class='alignnone size-medium' style='max-width:60%;'><figcaption>Figure - L'installation du driver CH340</figcaption></div></figure>
Faites <b>INSTALL</b> et après quelques secondes, la fenêtre suivante apparaît : 
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/installed.png' class='alignnone size-medium' style='max-width:80%;'><figcaption>Figure - L'installation effectuée du driver CH340</figcaption></div></figure>
Vous pouvez revenir au logiciel Arduino.

<h3>Recherche des cartes ESP8266</h3>
<b>A cette étape, ne pas oublier de brancher la carte ESP12 à l'ordinateur avec un câble USB-micro</b>
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/micro.jpg' class='alignnone size-medium' style='max-width:60%;'><figcaption>Figure - Un câble USB-micro</figcaption></div></figure>
<div class='alert alert-danger' ><h4>\faviconWarning</h4>Certains câbles USB sont prévus uniquement pour alimenter un appareil, pas pour communiquer. En cas d'erreur par la suite, n'hésitez pas à changer de câble si vous avez un doute.</div>
Lors de la programmation d'une carte ESP8266 NodeMCU, il faudra donc aller dans 

<span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>Outils - Type de carte - ESP8266 Boards NodeMCU X.X (ESP12 Module)</span> 

<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/espFull.png' class='alignnone size-medium' style='max-width:40%;'><figcaption>Figure - Sélection de la carte ESP12</figcaption></div></figure>
Afin de tester le bon fonctionnement, nous vous invitons à tester le programme <b>Blink</b> disponible dans les exemples.
<figure id=''><div class='cent' style='text-align:center;'><img src='/tools-esp-ide/blink.png' class='alignnone size-medium' style='max-width:40%;'><figcaption>Figure - Emplacement de l'exemple Blink</figcaption></div></figure>
La led bleue de l'ESP12 devrait clignoter si l'installation s'est correctement effectuée.

<h3>Recherche des cartes Arduino</h3>
Pour la programmation des cartes Arduino, il suffira de sélectionner 

<span style='background-color:blue;opacity:60%;color:blue;' class='badge badge-pill'>Outils - Type de carte - Arduino AVR Boards - Carte X</span> en fonction du modèle de votre carte.


</body></html>