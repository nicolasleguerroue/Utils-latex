<html><head><style>.cent {  display: block;  margin-left: auto;  margin-right: auto;}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script><body style='margin-left:5%;margin-right:5%;margin-top:1%'><h4>Fichier générer depuis les sources Latex</h4><h5>Auteur : Nicolas Le Guerroué</h5><a href='index.html'><button class='btn btn-success' >Revenir au sommaire</button></a><hr> 

<h2 >Présentation</h2>
\newcommand{\servo}{servo-moteurs } 

 
Les \servo sont utilisés lorsqu'on souhaite un asservissement en position d'un axe de rotation.

<h3>Asservissement</h3>
Un asservissement est un processus de correction pour maintenir une consigne. 

Par exemple, un régulateur de vitesse dans une voiture est un système asservi car la vitesse 

doit être constante quelle que soit la pente.

<h3>Architecture</h3>
<figure id=''><div class='cent' style='text-align:center;'><img src='/servo/servoInput.png' class='alignnone size-medium' style='max-width:160%;'><figcaption>Figure - Constitution d'un servo-moteur</figcaption></div></figure>
<h3>Domaines d'application</h3>
<ul>
    <li> Modélisme
</li>
    <li> Robotique
</li>
</ul>
<h3>Commande des \servo</h3>
Les \servo ont besoins d'être contrôlés via un signal \glossary{PWM} ou \glossary{MLI}. %<span title="Pulse Width Modulation : Modulation par Largeur d'Impulsion  " style='color:grey;'><sup>[Note 87]</sup></span>
<h4>Principe de la PWM</h4>
La PWM est la création d'un signal numérique dont le temps à l'état haut est variable.

On fait va\(r\)ie\(r\) le \(r\)appo\(r\)t cyclique (appelé \(r\)) qui est comp\(r\)is ent\(r\)e 0 et 1.

\( r = \frac{T_{on}}{T_{signal}} \)

<figure id=''><div class='cent' style='text-align:center;'><img src='/servo/PWM.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Différents rapports cycliques</figcaption></div></figure>
<h4>Trame de commande servomoteurs</h4>
Pour indiquer une consigne de position, il faut faire varier le rapport cyclique 

du signal envoyé au servomoteur.

La période des signaux est de 20 ms et le temps à l'état Haut du signal représente la position : 

<ul>
<li> 1 ms : 180\(^\circ\)
</li>
<li> 1.5 ms : 90\(^\circ\)
</li>
<li> 2 ms : 0\(^\circ\)
</li>
</ul>
<figure id=''><div class='cent' style='text-align:center;'><img src='/servo/TRAME.png' class='alignnone size-medium' style='max-width:50%;'><figcaption>Figure - Une trame PWM</figcaption></div></figure>
<h3>Branchement d'un servo-moteur</h3>
<ul>
  <li> Câble noir ou marron : GND 
</li>
  <li> Câble rouge : +5V
</li>
  <li> Câble blanc ou jaune : Signal Arduino (9)
</li>
</ul>
<figure id=''><div class='cent' style='text-align:center;'><img src='/mysensors/pinout.png' class='alignnone size-medium' style='max-width:30%;'><figcaption>Figure - Branchement d'un servomoteur</figcaption></div></figure>
<h4>Code Arduino</h4>
<hr><pre style='background-color:#F5F5F5;padding-left:1em;'><code>
  #include <Servo.h>      //Inclusion de la bibliothèque Servo

  Servo myservo;  // Création d'un objet Servo

  int pos = 0;    //Angle du servomoteur

  

  void setup() {

    myservo.attach(9);  //Choix de la broche du servo moteur

  }

  

  void loop() {

    for (pos = 0; pos <= 180; pos += 1) { //Parcours la plage angulaire [0-180] degré par degré

      myservo.write(pos);              //Actualise la position 

      delay(15);                       //Attend 15 ms avant l'actualisation

    }//Fin for

    for (pos = 180; pos >= 0; pos -= 1) {     //Parcours la plage angulaire [0-180] degré par degré

      myservo.write(pos);              //Actualise la position 

      delay(15);                       //Attend 15 ms avant l'actualisation

    }//Fin for

  }//Fin loop

</code></pre><hr>
<h3>Caractéristiques</h3>
<h4>Electriques</h4>
<ul>
  <li> Tension de commande et d'alimentation : \~5V
</li>
</ul>
<h4>Mécaniques</h4>
<ul>
  <li> Couple de sortie (Nm)
</li>
  <li> Vitesse de rotation (temps pour parcourir 60°)
</li>
</ul>
<h3>Pour aller plus loin</h3>
<h4>Une autre application de la PWM</h4>
En faisant varier la tension de sortie dans le temps rapidement (\(>\)50Hz), on peut simuler une 

tension analogique.

Voici un code d'exemple pour faire varier la luminosité d'une LED.

<hr><pre style='background-color:#F5F5F5;padding-left:1em;'><code>
  const int pin_led = 11; //Selection d'une broche PWM

  float duty_cyle[11] = {0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0};//Création d'un tableau avec les différents 

  rapports cycliques

  

  void setup() {

  

      pinMode(pin_led, OUTPUT);  //Mise en sortie de la broche LED

  

  }//Fin setup

  

  void loop() {

  

      for(int i=0;i<11;i++) 

      {

          int value_r = duty_cyle[i]*255.0; //Conversion d'une valeur entre 0 et 1 en une valeur entre 0 et 255

          analogWrite(pin_led, value_r); //Change le rapport cyclique pendant 3 s

          delay(600);        //Attend 0.6s

      }

      

  

  }//Fin loop

</code></pre><hr>
%https://howtomechatronics.com/how-it-works/how-servo-motors-work-how-to-control-servos-using-arduino/

</body></html>